use super::mob::Mobility;
use super::pst::{PstEvalSet, KingRelativePst, Pst};
use super::{Evaluator, EvalTerms};
use super::eval_set::PieceEvalSet;

pub const PIECE_VALUES: PieceEvalSet<i16> = PieceEvalSet {
    pawn: 94,
    knight: 322,
    bishop: 330,
    rook: 492,
    queen: 955,
    king: 0,
};

pub const EVALUATOR: Evaluator = Evaluator {
    midgame: EvalTerms {
        piece_tables: PstEvalSet {
            pawn: KingRelativePst([
                [
                    [   0,    0,    0,    0],
                    [  97,  113,  125,  137],
                    [  62,   86,  112,  115],
                    [  54,   81,   86,   95],
                    [  48,   80,   84,   98],
                    [  49,   75,   79,   87],
                    [  40,   65,   66,   66],
                    [   0,    0,    0,    0],
                ],
                [
                    [   0,    0,    0,    0],
                    [  85,   98,  124,  137],
                    [ 126,  159,  154,  125],
                    [ 109,  122,  115,  115],
                    [ 100,  118,  110,  107],
                    [ 112,  137,  111,  100],
                    [  89,  138,  108,   81],
                    [   0,    0,    0,    0],
                ],
            ]),
            knight: KingRelativePst([
                [
                    [ 179,  260,  270,  295],
                    [ 308,  319,  350,  369],
                    [ 309,  348,  376,  383],
                    [ 318,  331,  357,  374],
                    [ 313,  333,  344,  345],
                    [ 305,  325,  333,  340],
                    [ 284,  299,  312,  325],
                    [ 250,  302,  291,  306],
                ],
                [
                    [ 213,  285,  283,  334],
                    [ 328,  332,  400,  350],
                    [ 340,  366,  410,  414],
                    [ 343,  340,  383,  361],
                    [ 329,  352,  355,  354],
                    [ 325,  349,  354,  353],
                    [ 307,  305,  325,  326],
                    [ 264,  305,  309,  313],
                ],
            ]),
            bishop: KingRelativePst([
                [
                    [ 311,  300,  278,  263],
                    [ 322,  349,  338,  312],
                    [ 330,  347,  350,  365],
                    [ 323,  333,  353,  365],
                    [ 335,  336,  338,  357],
                    [ 343,  356,  348,  344],
                    [ 344,  346,  351,  335],
                    [ 332,  354,  340,  331],
                ],
                [
                    [ 297,  310,  283,  278],
                    [ 315,  324,  338,  344],
                    [ 343,  363,  376,  359],
                    [ 322,  332,  353,  357],
                    [ 349,  341,  345,  357],
                    [ 366,  365,  364,  349],
                    [ 340,  364,  356,  345],
                    [ 340,  345,  327,  338],
                ],
            ]),
            rook: KingRelativePst([
                [
                    [ 507,  509,  502,  498],
                    [ 496,  493,  511,  531],
                    [ 475,  496,  489,  497],
                    [ 467,  477,  479,  486],
                    [ 458,  460,  467,  473],
                    [ 463,  472,  474,  476],
                    [ 463,  471,  487,  487],
                    [ 488,  488,  493,  500],
                ],
                [
                    [ 547,  500,  520,  522],
                    [ 565,  547,  552,  517],
                    [ 537,  560,  529,  521],
                    [ 504,  497,  500,  485],
                    [ 488,  506,  482,  480],
                    [ 512,  530,  499,  489],
                    [ 486,  516,  497,  493],
                    [ 490,  496,  498,  505],
                ],
            ]),
            queen: KingRelativePst([
                [
                    [ 861,  868,  888,  915],
                    [ 894,  878,  884,  867],
                    [ 899,  895,  890,  895],
                    [ 886,  885,  889,  885],
                    [ 896,  892,  889,  890],
                    [ 908,  907,  901,  897],
                    [ 903,  900,  906,  909],
                    [ 893,  896,  905,  909],
                ],
                [
                    [ 905,  941,  920,  906],
                    [ 932,  889,  910,  873],
                    [ 926,  938,  914,  909],
                    [ 901,  893,  894,  885],
                    [ 914,  909,  900,  896],
                    [ 922,  925,  920,  899],
                    [ 899,  916,  915,  909],
                    [ 888,  883,  887,  908],
                ],
            ]),
            king: Pst([
                [ -10,    6,   12,   -8,   -3,    5,    9,   -2],
                [ -19,   13,    1,   37,   14,   18,   27,    8],
                [ -27,   45,   13,   -2,    9,   53,   40,    9],
                [ -25,  -13,  -18,  -63,  -74,  -33,  -29,  -68],
                [ -35,  -14,  -47,  -94,  -91,  -49,  -43,  -93],
                [   1,   35,  -21,  -45,  -40,  -24,   18,  -18],
                [  61,   60,   29,    7,    3,   21,   68,   54],
                [  52,   77,   50,  -24,   38,    4,   71,   65],
            ]),
        },
        mobility: Mobility {
            pawn: [-17, -9, 1, 29, 0],
            knight: [-63, -48, -40, -37, -34, -36, -36, -36, -34],
            bishop: [-65, -58, -51, -48, -42, -35, -30, -27, -25, -24, -21, -18, -12, 4],
            rook: [-130, -119, -115, -110, -110, -105, -101, -96, -94, -91, -88, -83, -82, -72, -74],
            queen: [-38, -44, -53, -52, -50, -47, -44, -46, -43, -42, -41, -41, -40, -39, -38, -38, -35, -38, -36, -34, -23, -21, -16, -13, 12, 31, 3, 9],
            king: [2, 6, -2, -11, -21, -38, -42, -56, -55],
        },
        passed_pawns: KingRelativePst([
            [
                [   0,    0,    0,    0],
                [   4,   25,   25,   33],
                [  22,   41,   32,   16],
                [  29,   22,   27,   14],
                [  17,    2,  -11,   -8],
                [   5,  -14,  -17,  -18],
                [   1,   -4,   -9,  -13],
                [   0,    0,    0,    0],
            ],
            [
                [   0,    0,    0,    0],
                [ -35,  -11,   15,   32],
                [ -66,  -41,    3,   13],
                [ -40,  -18,    7,   -3],
                [ -37,  -15,  -17,  -16],
                [ -15,   -3,  -27,  -18],
                [ -23,   10,   -3,   -3],
                [   0,    0,    0,    0],
            ],
        ]),
        bishop_pair: 20,
        rook_on_open_file: 25,
        rook_on_semiopen_file: 9,
    },
    endgame: EvalTerms {
        piece_tables: PstEvalSet {
            pawn: KingRelativePst([
                [
                    [   0,    0,    0,    0],
                    [ 191,  180,  172,  164],
                    [ 101,  107,   84,  102],
                    [  97,   96,   84,   77],
                    [  85,   92,   82,   80],
                    [  82,   90,   80,   87],
                    [  83,   88,   81,   89],
                    [   0,    0,    0,    0],
                ],
                [
                    [   0,    0,    0,    0],
                    [ 222,  206,  198,  170],
                    [  92,  104,   73,   77],
                    [  80,   88,   75,   73],
                    [  71,   85,   76,   79],
                    [  65,   80,   81,   87],
                    [  59,   73,   81,   98],
                    [   0,    0,    0,    0],
                ],
            ]),
            knight: KingRelativePst([
                [
                    [ 248,  296,  310,  312],
                    [ 303,  321,  319,  313],
                    [ 310,  315,  335,  339],
                    [ 320,  329,  347,  351],
                    [ 324,  327,  348,  347],
                    [ 313,  323,  334,  340],
                    [ 297,  304,  318,  316],
                    [ 282,  288,  301,  306],
                ],
                [
                    [ 216,  266,  287,  299],
                    [ 284,  304,  295,  312],
                    [ 292,  305,  313,  325],
                    [ 307,  327,  339,  346],
                    [ 317,  325,  340,  348],
                    [ 313,  324,  333,  336],
                    [ 307,  310,  314,  319],
                    [ 295,  294,  306,  309],
                ],
            ]),
            bishop: KingRelativePst([
                [
                    [ 324,  324,  322,  330],
                    [ 311,  313,  314,  322],
                    [ 318,  315,  320,  308],
                    [ 319,  324,  318,  331],
                    [ 318,  324,  331,  325],
                    [ 324,  329,  328,  324],
                    [ 310,  310,  303,  319],
                    [ 303,  317,  313,  315],
                ],
                [
                    [ 306,  321,  320,  323],
                    [ 306,  321,  312,  306],
                    [ 317,  313,  316,  318],
                    [ 316,  316,  322,  326],
                    [ 310,  324,  324,  326],
                    [ 322,  326,  328,  325],
                    [ 314,  315,  312,  316],
                    [ 296,  310,  331,  319],
                ],
            ]),
            rook: KingRelativePst([
                [
                    [ 514,  511,  521,  521],
                    [ 514,  519,  521,  513],
                    [ 511,  507,  511,  506],
                    [ 514,  507,  511,  507],
                    [ 513,  510,  509,  506],
                    [ 504,  499,  500,  502],
                    [ 498,  499,  496,  495],
                    [ 499,  494,  498,  493],
                ],
                [
                    [ 497,  517,  516,  508],
                    [ 482,  500,  502,  512],
                    [ 480,  484,  486,  496],
                    [ 491,  496,  495,  499],
                    [ 495,  495,  500,  502],
                    [ 483,  481,  491,  493],
                    [ 484,  476,  489,  492],
                    [ 483,  496,  500,  491],
                ],
            ]),
            queen: KingRelativePst([
                [
                    [ 931,  924,  936,  926],
                    [ 905,  915,  935,  972],
                    [ 891,  893,  925,  947],
                    [ 903,  907,  918,  941],
                    [ 903,  909,  913,  930],
                    [ 887,  899,  909,  903],
                    [ 875,  890,  885,  886],
                    [ 886,  885,  876,  895],
                ],
                [
                    [ 895,  890,  938,  942],
                    [ 915,  938,  954,  981],
                    [ 918,  907,  948,  951],
                    [ 935,  943,  953,  953],
                    [ 925,  936,  932,  934],
                    [ 903,  922,  918,  913],
                    [ 867,  852,  873,  891],
                    [ 866,  869,  890,  878],
                ],
            ]),
            king: Pst([
                [ -83,  -47,  -30,   -8,  -24,  -16,  -15,  -81],
                [ -23,   16,   20,   21,   33,   41,   29,  -10],
                [ -10,   18,   35,   47,   50,   42,   32,   -3],
                [ -13,   19,   39,   54,   56,   45,   29,    2],
                [ -21,    9,   34,   52,   52,   34,   19,    5],
                [ -28,   -2,   19,   33,   30,   22,    2,   -7],
                [ -46,  -23,   -3,    5,    8,   -1,  -22,  -37],
                [ -75,  -60,  -39,  -24,  -45,  -26,  -53,  -75],
            ]),
        },
        mobility: Mobility {
            pawn: [3, 24, 30, 22, 50],
            knight: [34, 31, 37, 33, 38, 42, 43, 42, 37],
            bishop: [-15, 1, 9, 20, 33, 45, 49, 56, 63, 62, 61, 61, 65, 54],
            rook: [105, 123, 126, 129, 135, 137, 139, 141, 147, 151, 152, 154, 158, 160, 158],
            queen: [7, 45, 151, 186, 196, 201, 210, 234, 241, 247, 256, 262, 271, 278, 284, 290, 293, 304, 311, 311, 310, 313, 311, 317, 296, 301, 301, 303],
            king: [-1, -23, -18, -4, 0, 4, 4, 4, -3],
        },
        passed_pawns: KingRelativePst([
            [
                [   0,    0,    0,    0],
                [  98,   92,   73,   61],
                [ 135,  119,  101,   65],
                [  63,   52,   35,   37],
                [  32,   18,   15,   11],
                [   3,   11,    6,   -6],
                [   2,    6,    1,  -15],
                [   0,    0,    0,    0],
            ],
            [
                [   0,    0,    0,    0],
                [ 102,   98,   88,   65],
                [ 170,  149,  133,   94],
                [  93,   84,   68,   46],
                [  54,   49,   35,   24],
                [  12,   14,   11,    6],
                [  11,    2,   -1,   -8],
                [   0,    0,    0,    0],
            ],
        ]),
        bishop_pair: 64,
        rook_on_open_file: 4,
        rook_on_semiopen_file: 2,
    },
};
