use super::mob::Mobility;
use super::pst::{PstEvalSet, KingRelativePst, Pst};
use super::{Evaluator, EvalTerms};
use super::eval_set::PieceEvalSet;

pub const PIECE_VALUES: PieceEvalSet<i16> = PieceEvalSet {
    pawn: 100,
    knight: 320,
    bishop: 330,
    rook: 500,
    queen: 900,
    king: 0,
};

pub const EVALUATOR: Evaluator = Evaluator {
    midgame: EvalTerms {
        piece_tables: PstEvalSet {
            pawn: KingRelativePst([
                [
                    [   0,    0,    0,    0],
                    [  97,  113,  125,  137],
                    [  64,   86,  113,  116],
                    [  55,   80,   86,   95],
                    [  48,   78,   83,   95],
                    [  48,   72,   78,   85],
                    [  39,   63,   65,   64],
                    [   0,    0,    0,    0],
                ],
                [
                    [   0,    0,    0,    0],
                    [  85,   98,  124,  137],
                    [ 127,  160,  157,  126],
                    [ 108,  121,  119,  115],
                    [  97,  116,  111,  105],
                    [ 108,  135,  113,   99],
                    [  85,  135,  109,   79],
                    [   0,    0,    0,    0],
                ],
            ]),
            knight: KingRelativePst([
                [
                    [ 178,  260,  270,  295],
                    [ 308,  318,  350,  368],
                    [ 309,  347,  375,  382],
                    [ 318,  330,  355,  372],
                    [ 312,  332,  343,  343],
                    [ 305,  323,  330,  339],
                    [ 284,  299,  312,  323],
                    [ 250,  300,  291,  306],
                ],
                [
                    [ 212,  285,  283,  334],
                    [ 328,  332,  399,  350],
                    [ 340,  366,  409,  413],
                    [ 343,  339,  381,  358],
                    [ 328,  352,  353,  352],
                    [ 324,  346,  351,  353],
                    [ 307,  305,  325,  324],
                    [ 264,  304,  310,  313],
                ],
            ]),
            bishop: KingRelativePst([
                [
                    [ 310,  300,  278,  262],
                    [ 322,  349,  338,  311],
                    [ 329,  346,  349,  364],
                    [ 322,  333,  351,  365],
                    [ 334,  335,  337,  356],
                    [ 340,  353,  346,  342],
                    [ 343,  344,  351,  333],
                    [ 332,  354,  336,  330],
                ],
                [
                    [ 297,  310,  283,  277],
                    [ 315,  324,  337,  343],
                    [ 343,  362,  375,  358],
                    [ 322,  333,  353,  355],
                    [ 348,  340,  343,  356],
                    [ 364,  362,  360,  347],
                    [ 340,  362,  355,  343],
                    [ 340,  345,  325,  337],
                ],
            ]),
            rook: KingRelativePst([
                [
                    [ 506,  509,  502,  497],
                    [ 493,  490,  508,  528],
                    [ 473,  494,  486,  494],
                    [ 466,  476,  477,  483],
                    [ 457,  459,  466,  470],
                    [ 463,  471,  471,  473],
                    [ 462,  470,  482,  483],
                    [ 486,  485,  488,  495],
                ],
                [
                    [ 547,  500,  520,  521],
                    [ 564,  546,  549,  514],
                    [ 536,  559,  527,  517],
                    [ 504,  497,  499,  483],
                    [ 488,  506,  481,  478],
                    [ 513,  531,  498,  487],
                    [ 486,  516,  495,  489],
                    [ 489,  494,  496,  502],
                ],
            ]),
            queen: KingRelativePst([
                [
                    [ 861,  868,  888,  915],
                    [ 894,  878,  884,  867],
                    [ 899,  894,  889,  895],
                    [ 886,  885,  889,  885],
                    [ 895,  892,  890,  890],
                    [ 907,  907,  902,  898],
                    [ 902,  900,  906,  909],
                    [ 894,  896,  903,  906],
                ],
                [
                    [ 905,  941,  920,  906],
                    [ 932,  888,  909,  873],
                    [ 926,  937,  914,  908],
                    [ 902,  894,  894,  884],
                    [ 914,  909,  901,  896],
                    [ 921,  924,  919,  900],
                    [ 899,  916,  915,  908],
                    [ 888,  884,  888,  906],
                ],
            ]),
            king: Pst([
                [ -10,    6,   12,   -8,   -3,    5,    9,   -2],
                [ -19,   13,    1,   37,   14,   18,   27,    8],
                [ -27,   45,   13,   -2,    9,   53,   40,    9],
                [ -25,  -13,  -18,  -63,  -74,  -33,  -29,  -68],
                [ -35,  -14,  -47,  -94,  -91,  -49,  -43,  -93],
                [   1,   35,  -21,  -45,  -40,  -24,   18,  -18],
                [  62,   61,   30,    8,    3,   22,   68,   55],
                [  52,   76,   48,  -25,   35,    3,   70,   65],
            ]),
        },
        mobility: Mobility {
            pawn: [-12 ,-6 ,3 ,29 ,0],
            knight: [-63 ,-48 ,-42 ,-38 ,-36 ,-36 ,-37 ,-37 ,-34],
            bishop: [-64 ,-58 ,-51 ,-48 ,-42 ,-35 ,-30 ,-27 ,-25 ,-24 ,-21 ,-18 ,-12 ,4],
            rook: [-129 ,-120 ,-116 ,-112 ,-113 ,-108 ,-105 ,-101 ,-99 ,-97 ,-95 ,-93 ,-91 ,-80 ,-81],
            queen: [-38 ,-44 ,-52 ,-51 ,-49 ,-47 ,-44 ,-46 ,-44 ,-43 ,-42 ,-41 ,-41 ,-40 ,-39 ,-39 ,-35 ,-38 ,-36 ,-33 ,-23 ,-21 ,-16 ,-13 ,12 ,31 ,3 ,9],
            king: [2 ,6 ,-1 ,-10 ,-21 ,-38 ,-42 ,-57 ,-54],
        },
        passed_pawns: KingRelativePst([
            [
                [   0,    0,    0,    0],
                [   5,   25,   25,   33],
                [  22,   41,   32,   17],
                [  29,   22,   26,   14],
                [  17,    1,  -12,   -9],
                [   4,  -15,  -18,  -19],
                [   1,   -5,  -10,  -13],
                [   0,    0,    0,    0],
            ],
            [
                [   0,    0,    0,    0],
                [ -35,  -11,   15,   32],
                [ -66,  -41,    4,   14],
                [ -40,  -18,    8,   -3],
                [ -37,  -15,  -17,  -16],
                [ -14,   -3,  -28,  -18],
                [ -22,   11,   -3,   -3],
                [   0,    0,    0,    0],
            ],
        ]),
        bishop_pair: 19,
        rook_on_open_file: 29,
        rook_on_semiopen_file: 14,
        isolated_pawns: [-6 ,-13 ,-14 ,-13 ,-17 ,-16 ,-15 ,-15],
    },
    endgame: EvalTerms {
        piece_tables: PstEvalSet {
            pawn: KingRelativePst([
                [
                    [   0,    0,    0,    0],
                    [ 190,  180,  172,  164],
                    [ 101,  107,   85,  101],
                    [  94,   95,   84,   76],
                    [  82,   90,   82,   79],
                    [  79,   88,   80,   86],
                    [  82,   89,   84,   88],
                    [   0,    0,    0,    0],
                ],
                [
                    [   0,    0,    0,    0],
                    [ 222,  205,  198,  170],
                    [  92,  105,   74,   77],
                    [  78,   88,   76,   72],
                    [  69,   84,   76,   78],
                    [  62,   78,   81,   85],
                    [  60,   74,   83,   97],
                    [   0,    0,    0,    0],
                ],
            ]),
            knight: KingRelativePst([
                [
                    [ 248,  296,  310,  312],
                    [ 303,  320,  318,  313],
                    [ 309,  315,  333,  337],
                    [ 320,  329,  345,  348],
                    [ 324,  327,  347,  347],
                    [ 313,  323,  332,  339],
                    [ 298,  305,  318,  317],
                    [ 282,  290,  302,  306],
                ],
                [
                    [ 216,  266,  287,  299],
                    [ 284,  304,  294,  312],
                    [ 292,  305,  312,  324],
                    [ 307,  327,  337,  344],
                    [ 317,  324,  339,  347],
                    [ 313,  323,  329,  336],
                    [ 307,  310,  315,  320],
                    [ 295,  295,  307,  310],
                ],
            ]),
            bishop: KingRelativePst([
                [
                    [ 323,  324,  322,  329],
                    [ 310,  312,  313,  321],
                    [ 317,  314,  319,  307],
                    [ 318,  323,  316,  329],
                    [ 317,  323,  329,  323],
                    [ 323,  327,  326,  321],
                    [ 310,  309,  302,  318],
                    [ 303,  316,  312,  315],
                ],
                [
                    [ 306,  321,  320,  323],
                    [ 306,  320,  311,  305],
                    [ 317,  312,  314,  317],
                    [ 316,  315,  321,  324],
                    [ 310,  323,  322,  324],
                    [ 321,  323,  326,  323],
                    [ 314,  314,  312,  316],
                    [ 296,  310,  331,  319],
                ],
            ]),
            rook: KingRelativePst([
                [
                    [ 514,  511,  521,  520],
                    [ 512,  515,  517,  509],
                    [ 509,  505,  509,  503],
                    [ 513,  505,  509,  504],
                    [ 512,  509,  508,  504],
                    [ 503,  497,  498,  499],
                    [ 497,  498,  494,  492],
                    [ 494,  493,  497,  491],
                ],
                [
                    [ 497,  517,  516,  507],
                    [ 481,  499,  500,  508],
                    [ 479,  483,  485,  493],
                    [ 489,  495,  494,  497],
                    [ 495,  494,  499,  499],
                    [ 483,  480,  489,  490],
                    [ 484,  475,  487,  489],
                    [ 484,  496,  493,  486],
                ],
            ]),
            queen: KingRelativePst([
                [
                    [ 931,  924,  937,  926],
                    [ 904,  915,  934,  972],
                    [ 890,  892,  924,  947],
                    [ 902,  907,  917,  940],
                    [ 903,  908,  911,  928],
                    [ 887,  897,  908,  902],
                    [ 875,  891,  885,  888],
                    [ 887,  886,  878,  898],
                ],
                [
                    [ 895,  890,  938,  942],
                    [ 915,  938,  954,  981],
                    [ 918,  907,  948,  951],
                    [ 935,  944,  953,  953],
                    [ 925,  936,  932,  932],
                    [ 903,  922,  917,  913],
                    [ 867,  852,  873,  893],
                    [ 866,  869,  891,  880],
                ],
            ]),
            king: Pst([
                [ -83,  -47,  -30,   -8,  -24,  -16,  -15,  -81],
                [ -23,   16,   20,   21,   33,   41,   29,  -10],
                [ -10,   17,   35,   46,   50,   42,   32,   -3],
                [ -13,   19,   39,   53,   56,   45,   29,    2],
                [ -21,    9,   33,   51,   52,   34,   19,    5],
                [ -28,   -2,   19,   33,   31,   23,    2,   -8],
                [ -46,  -22,   -3,    5,    9,   -1,  -21,  -37],
                [ -75,  -60,  -39,  -25,  -45,  -27,  -52,  -74],
            ]),
        },
        mobility: Mobility {
            pawn: [7 ,25 ,28 ,21 ,50],
            knight: [34 ,30 ,35 ,31 ,35 ,39 ,40 ,40 ,35],
            bishop: [-15 ,1 ,9 ,20 ,32 ,44 ,47 ,54 ,61 ,60 ,60 ,60 ,65 ,54],
            rook: [101 ,119 ,121 ,124 ,131 ,133 ,134 ,137 ,142 ,146 ,148 ,151 ,154 ,154 ,152],
            queen: [7 ,45 ,152 ,186 ,196 ,201 ,209 ,233 ,240 ,246 ,256 ,260 ,269 ,276 ,282 ,288 ,291 ,302 ,309 ,310 ,309 ,312 ,311 ,317 ,296 ,301 ,301 ,303],
            king: [-1 ,-23 ,-18 ,-4 ,0 ,4 ,3 ,4 ,-4],
        },
        passed_pawns: KingRelativePst([
            [
                [   0,    0,    0,    0],
                [  98,   92,   73,   61],
                [ 134,  118,  100,   64],
                [  62,   51,   34,   36],
                [  30,   17,   14,   10],
                [   3,   11,    5,   -7],
                [   3,    6,    1,  -15],
                [   0,    0,    0,    0],
            ],
            [
                [   0,    0,    0,    0],
                [ 102,   98,   88,   65],
                [ 169,  148,  132,   94],
                [  91,   83,   66,   45],
                [  53,   48,   33,   23],
                [  12,   13,    9,    5],
                [  11,    2,   -2,   -8],
                [   0,    0,    0,    0],
            ],
        ]),
        bishop_pair: 61,
        rook_on_open_file: 5,
        rook_on_semiopen_file: 4,
        isolated_pawns: [-8 ,-15 ,-17 ,-9 ,-11 ,-20 ,-19 ,-20],
    },
};
